{"ast":null,"code":"import { api } from '@/boot/axios';\nimport useQuasar from 'quasar/src/composables/use-quasar.js';\n;\nimport { ref, onMounted } from 'vue';\nimport { route } from 'vue-router';\nexport default {\n  __name: 'FormularioCliente',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const $q = useQuasar();\n    const nome = ref(null);\n    const sobrenome = ref(null);\n    const email = ref(null);\n    const telefone = ref(null);\n    const cep = ref(null);\n    onMounted(() => {\n      const {\n        query\n      } = route.currentRoute.value;\n\n      // Se a ação for 'editar' e houver um ID, busca os dados do cliente\n      if (query.action === 'editar' && query.id) {\n        buscarClienteParaEdicao(query.id);\n      }\n    });\n    const buscarClienteParaEdicao = async idCliente => {\n      try {\n        const response = await api.get(`/clientes/${idCliente}`);\n\n        // Preenche os campos do formulário com os dados do cliente\n        const {\n          nome,\n          sobrenome,\n          email,\n          telefone,\n          cep\n        } = response.data;\n        nome.value = nome;\n        sobrenome.value = sobrenome;\n        email.value = email;\n        telefone.value = telefone;\n        cep.value = cep;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const onSubmit = async () => {\n      try {\n        await api.post(\"/clientes\", {\n          nome: nome.value,\n          sobrenome: sobrenome.value,\n          email: email.value,\n          telefone: telefone.value,\n          cep: cep.value\n        });\n        $q.notify({\n          color: 'green-4',\n          textColor: 'white',\n          icon: 'cloud_done',\n          message: 'Cliente salvo com sucesso'\n        });\n        nome.value = '';\n        sobrenome.value = '';\n        email.value = '';\n        telefone.value = '';\n        cep.value = '';\n      } catch (error) {\n        $q.notify({\n          color: 'red-5',\n          textColor: 'white',\n          icon: 'warning',\n          message: 'Erro ao salvar cliente'\n        });\n      }\n    };\n    const __returned__ = {\n      $q,\n      nome,\n      sobrenome,\n      email,\n      telefone,\n      cep,\n      buscarClienteParaEdicao,\n      onSubmit,\n      get api() {\n        return api;\n      },\n      get useQuasar() {\n        return useQuasar;\n      },\n      ref,\n      onMounted,\n      get route() {\n        return route;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["api","useQuasar","ref","onMounted","route","$q","nome","sobrenome","email","telefone","cep","query","currentRoute","value","action","id","buscarClienteParaEdicao","idCliente","response","get","data","error","console","log","onSubmit","post","notify","color","textColor","icon","message"],"sources":["C:/Users/PC01/Documents/Desafio_Eliezer_Embracon/front_end/desafio/src/components/FormularioCliente.vue"],"sourcesContent":["<template>\r\n  <div class=\"q-pa-md\">\r\n    <q-form\r\n      @submit=\"onSubmit\"\r\n    >\r\n      <div class=\"row\">\r\n        <div class=\"col-6 q-mb-md\">\r\n          <q-input\r\n            filled\r\n            v-model=\"nome\"\r\n            label=\"Seu nome *\"\r\n            hint=\"Nome\"\r\n            lazy-rules\r\n            :rules=\"[val => val && val.length > 0 || 'Por favor digite seu nome']\"\r\n          />\r\n        </div>\r\n        <div class=\"col-6 q-pl-xs q-mb-md\">\r\n          <q-input\r\n            filled\r\n            v-model=\"sobrenome\"\r\n            label=\"Seu sobrenome *\"\r\n            lazy-rules\r\n            :rules=\"[\r\n              val => val !== null && val !== '' || 'Por favor digite seu sobrenome'\r\n            ]\"\r\n          />\r\n        </div>\r\n        <div class=\"col-6 q-mb-md\">\r\n          <q-input\r\n            filled\r\n            v-model=\"email\"\r\n            label=\"Seu email *\"\r\n            lazy-rules\r\n            :rules=\"[\r\n              val => val !== null && val !== '' || 'Por favor digite um email válido'\r\n            ]\"\r\n          />\r\n        </div>\r\n        <div class=\"col-3 q-pl-xs q-mb-md\">\r\n          <q-input\r\n            filled\r\n            v-model=\"telefone\"\r\n            label=\"Seu telefone *\"\r\n            lazy-rules\r\n            :rules=\"[\r\n              val => val !== null && val !== '' || 'Por favor digite seu telefone'\r\n            ]\"\r\n          />\r\n        </div>\r\n        <div class=\"col-3 q-pl-xs q-mb-md\">\r\n          <q-input\r\n            filled\r\n            v-model=\"cep\"\r\n            label=\"Seu CEP *\"\r\n            lazy-rules\r\n            :rules=\"[\r\n              val => val !== null && val !== '' || 'Por favor digite seu CEP '\r\n            ]\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <q-btn label=\"Salvar\" type=\"submit\" color=\"primary\"/>\r\n      </div>\r\n    </q-form>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { api } from '@/boot/axios';\r\nimport { useQuasar } from 'quasar';\r\nimport { ref, onMounted } from 'vue';\r\nimport { route } from 'vue-router';\r\n\r\nconst $q = useQuasar();\r\nconst nome = ref(null);\r\nconst sobrenome = ref(null);\r\nconst email = ref(null);\r\nconst telefone = ref(null);\r\nconst cep = ref(null);\r\n\r\nonMounted(() => {\r\n  \r\n  const { query } = route.currentRoute.value;\r\n\r\n  // Se a ação for 'editar' e houver um ID, busca os dados do cliente\r\n  if (query.action === 'editar' && query.id) {\r\n    buscarClienteParaEdicao(query.id);\r\n  }\r\n});\r\n\r\nconst buscarClienteParaEdicao = async (idCliente) => {\r\n  try {\r\n    const response = await api.get(`/clientes/${idCliente}`);\r\n\r\n    // Preenche os campos do formulário com os dados do cliente\r\n    const { nome, sobrenome, email, telefone, cep } = response.data;\r\n    nome.value = nome;\r\n    sobrenome.value = sobrenome;\r\n    email.value = email;\r\n    telefone.value = telefone;\r\n    cep.value = cep;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst onSubmit = async () => {\r\n  try {\r\n    \r\n    await api.post(\"/clientes\", {\r\n      nome: nome.value,\r\n      sobrenome: sobrenome.value,\r\n      email: email.value,\r\n      telefone: telefone.value,\r\n      cep: cep.value\r\n    });\r\n\r\n    $q.notify({\r\n      color: 'green-4',\r\n      textColor: 'white',\r\n      icon: 'cloud_done',\r\n      message: 'Cliente salvo com sucesso'\r\n    });\r\n\r\n    nome.value = '';\r\n    sobrenome.value = '';\r\n    email.value = '';\r\n    telefone.value = '';\r\n    cep.value = '';\r\n\r\n  } catch (error) {\r\n    $q.notify({\r\n      color: 'red-5',\r\n      textColor: 'white',\r\n      icon: 'warning',\r\n      message: 'Erro ao salvar cliente'\r\n    });\r\n  }\r\n};\r\n\r\n\r\n</script>\r\n"],"mappings":"AAuEA,SAASA,GAAG,QAAQ,cAAc;AAClC,OAAOC,SAAS,MAAM,sCAAc;AAAA;AACpC,SAASC,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,KAAK,QAAQ,YAAY;;;;;;;IAElC,MAAMC,EAAE,GAAGJ,SAAS,CAAC,CAAC;IACtB,MAAMK,IAAI,GAAGJ,GAAG,CAAC,IAAI,CAAC;IACtB,MAAMK,SAAS,GAAGL,GAAG,CAAC,IAAI,CAAC;IAC3B,MAAMM,KAAK,GAAGN,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMO,QAAQ,GAAGP,GAAG,CAAC,IAAI,CAAC;IAC1B,MAAMQ,GAAG,GAAGR,GAAG,CAAC,IAAI,CAAC;IAErBC,SAAS,CAAC,MAAM;MAEd,MAAM;QAAEQ;MAAM,CAAC,GAAGP,KAAK,CAACQ,YAAY,CAACC,KAAK;;MAE1C;MACA,IAAIF,KAAK,CAACG,MAAM,KAAK,QAAQ,IAAIH,KAAK,CAACI,EAAE,EAAE;QACzCC,uBAAuB,CAACL,KAAK,CAACI,EAAE,CAAC;MACnC;IACF,CAAC,CAAC;IAEF,MAAMC,uBAAuB,GAAG,MAAOC,SAAS,IAAK;MACnD,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMlB,GAAG,CAACmB,GAAG,CAAE,aAAYF,SAAU,EAAC,CAAC;;QAExD;QACA,MAAM;UAAEX,IAAI;UAAEC,SAAS;UAAEC,KAAK;UAAEC,QAAQ;UAAEC;QAAI,CAAC,GAAGQ,QAAQ,CAACE,IAAI;QAC/Dd,IAAI,CAACO,KAAK,GAAGP,IAAI;QACjBC,SAAS,CAACM,KAAK,GAAGN,SAAS;QAC3BC,KAAK,CAACK,KAAK,GAAGL,KAAK;QACnBC,QAAQ,CAACI,KAAK,GAAGJ,QAAQ;QACzBC,GAAG,CAACG,KAAK,GAAGH,GAAG;MACjB,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB;IACF,CAAC;IAED,MAAMG,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QAEF,MAAMxB,GAAG,CAACyB,IAAI,CAAC,WAAW,EAAE;UAC1BnB,IAAI,EAAEA,IAAI,CAACO,KAAK;UAChBN,SAAS,EAAEA,SAAS,CAACM,KAAK;UAC1BL,KAAK,EAAEA,KAAK,CAACK,KAAK;UAClBJ,QAAQ,EAAEA,QAAQ,CAACI,KAAK;UACxBH,GAAG,EAAEA,GAAG,CAACG;QACX,CAAC,CAAC;QAEFR,EAAE,CAACqB,MAAM,CAAC;UACRC,KAAK,EAAE,SAAS;UAChBC,SAAS,EAAE,OAAO;UAClBC,IAAI,EAAE,YAAY;UAClBC,OAAO,EAAE;QACX,CAAC,CAAC;QAEFxB,IAAI,CAACO,KAAK,GAAG,EAAE;QACfN,SAAS,CAACM,KAAK,GAAG,EAAE;QACpBL,KAAK,CAACK,KAAK,GAAG,EAAE;QAChBJ,QAAQ,CAACI,KAAK,GAAG,EAAE;QACnBH,GAAG,CAACG,KAAK,GAAG,EAAE;MAEhB,CAAC,CAAC,OAAOQ,KAAK,EAAE;QACdhB,EAAE,CAACqB,MAAM,CAAC;UACRC,KAAK,EAAE,OAAO;UACdC,SAAS,EAAE,OAAO;UAClBC,IAAI,EAAE,SAAS;UACfC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}